import{a as f,o as e,w as O}from"./chunk-NL6KNZEE-CfxFt-pq.js";const q="_main_oq8hj_1",T="_items_oq8hj_109",F="_sectionHeader_oq8hj_119",L="_addItemButton_oq8hj_129",S="_delivery_oq8hj_147",B="_preview_oq8hj_167",v={main:q,items:T,sectionHeader:F,addItemButton:L,delivery:S,preview:B},_={"supplier-section":"_supplier-section_1xu5q_1"};function D({setSupplier:a}){let[y,m]=f.useState(!1);function n(l){l==="other"?m(!0):(m(!1),a(l))}return e.jsxs("div",{className:_["supplier-section"],style:_,children:[e.jsx("label",{htmlFor:"supplier",children:"Supplier"}),e.jsxs("select",{name:"supplier",id:"supplier",onChange:l=>{n(l.target.value)},children:[e.jsx("option",{value:"volvo",children:"Option 1"}),e.jsx("option",{value:"car",children:"Option 2"}),e.jsx("option",{value:"other",children:"Other"})]}),y?e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:"other-supplier",children:"New supplier"}),e.jsx("input",{type:"text",id:"other-supplier",onChange:l=>{a(l.target.value)}})]}):""]})}const H="_item_bv56e_1",U="_itemHeader_bv56e_35",k="_itemLabel_bv56e_47",A="_deleteButton_bv56e_57",h={item:H,itemHeader:U,itemLabel:k,deleteButton:A};function P({position:a,deleteItem:y,updateItemCategory:m,updateItemName:n,updateItemQuantity:l,updateItemCost:g}){const[c,x]=f.useState({category:!1,item:!1});function j(s){if(s==="Other")x({category:!0,item:!0});else{let u={...c,category:!1};x(u),m(a,s)}}function I(s){if(s==="Other"){let u={...c,item:!0};x(u)}else{let u={...c,item:!1};x(u),n(a,s)}}return e.jsxs("div",{className:h.item,children:[e.jsxs("div",{className:h.itemHeader,children:[e.jsxs("label",{children:["Item #",a+1]}),e.jsx("button",{className:h.deleteButton,onClick:s=>{y(a,s)},children:"Delete item"})]}),e.jsx("label",{className:h.itemLabel,children:"Category"}),e.jsxs("select",{value:c.category?"Other":void 0,onChange:s=>{j(s.target.value)},required:!0,children:[e.jsx("option",{disabled:!0,selected:!0,children:" -- select an option --"}),e.jsx("option",{children:"Salah"}),e.jsx("option",{children:"Donya"}),e.jsx("option",{children:"Other"})]}),c.category?e.jsxs(e.Fragment,{children:[e.jsx("label",{className:h.itemLabel,children:"New Category"}),e.jsx("input",{type:"text",onChange:s=>{m(a,s.target.value)},required:!0})]}):null,c.category?null:e.jsxs(e.Fragment,{children:[e.jsx("label",{className:h.itemLabel,children:"Item"}),e.jsxs("select",{value:c.item?"Other":void 0,onChange:s=>{I(s.target.value)},children:[e.jsx("option",{disabled:!0,selected:!0,children:" -- select an option --"}),e.jsx("option",{children:"Salah"}),e.jsx("option",{children:"Donya"}),e.jsx("option",{children:"Other"})]})]}),c.item?e.jsxs(e.Fragment,{children:[e.jsx("label",{className:h.itemLabel,children:"New Item"}),e.jsx("input",{type:"text",onChange:s=>{n(a,s.target.value)},required:!0})]}):null,e.jsx("label",{className:h.itemLabel,children:"Quantity purchased"}),e.jsx("input",{type:"number",onChange:s=>{l(a,s.target.value)}}),e.jsx("label",{className:h.itemLabel,children:"Total paid for item"}),e.jsx("input",{type:"number",onChange:s=>{g(a,s.target.value)}})]})}const b={position:0,category:"",item:"",quantity:"",cost:""},Q=O(function(){let[y,m]=f.useState("");const[n,l]=f.useState([b]),[g,c]=f.useState("0");let x=n.map(t=>parseInt(t.cost)),j;n.length>1?j=x.reduce((t,i)=>t+i)+parseInt(g):j=parseInt(n[0].cost)+parseInt(g),console.log(n);function I(t){t.preventDefault();let i={...b,position:n.length},d=[...n,i];l(d)}function s(t,i){if(i.preventDefault(),n.length===1)return;let d=n.filter(r=>r.position!==t);for(let r=0;r<d.length;r++)d[r].position=r;l(d)}function u(t,i){let r={...n.filter(p=>p.position===t)[0],category:i},o=[...n];o[t]=r,l(o)}function w(t,i){let r={...n.filter(p=>p.position===t)[0],item:i},o=[...n];o[t]=r,l(o)}function C(t,i){let r={...n.filter(p=>p.position===t)[0],quantity:i},o=[...n];o[t]=r,l(o)}function N(t,i){let r={...n.filter(p=>p.position===t)[0],cost:i},o=[...n];o[t]=r,l(o)}return e.jsxs(e.Fragment,{children:[e.jsx("nav",{children:"Rafiki Operations"}),e.jsx("div",{id:"main",children:e.jsxs("form",{action:"",style:v,children:[e.jsx(D,{setSupplier:m}),e.jsxs("div",{className:v.items,children:[e.jsx("p",{className:v.sectionHeader,children:"Items"}),n.map(t=>e.jsx(P,{position:t.position,deleteItem:s,updateItemCategory:u,updateItemName:w,updateItemQuantity:C,updateItemCost:N},t.position)),e.jsx("button",{className:v.addItemButton,onClick:I,children:"Add item"})]}),e.jsxs("div",{className:v.delivery,children:[e.jsx("label",{children:"Delivery cost"}),e.jsx("input",{type:"number",onChange:t=>{c(t.target.value)}})]}),e.jsxs("div",{className:v.preview,children:[e.jsx("p",{children:"Preview"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("th",{children:"Item"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Cost"})]}),n.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.item}),e.jsx("td",{children:t.quantity}),e.jsx("td",{children:t.cost})]})),e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Delivery:"}),e.jsx("td",{children:g})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("th",{children:"Total:"}),e.jsx("td",{children:j||null})]})]})]})]})})]})});export{Q as default};
